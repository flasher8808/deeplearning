<!DOCTYPE html>
<html lang="de">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js"></script>
    <script src="https://unpkg.com/ml5@1/dist/ml5.js"></script>
    <script src="https://cdn.plot.ly/plotly-3.0.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href='https://fonts.googleapis.com/css?family=ADLaM Display' rel='stylesheet'>
    <meta charset="UTF-8">
    <title>Bild hochladen und anzeigen</title>
</head>
<body>
  <div class="header">
    <p>Modul Deep Learning - EA 1: Bilderkennung mit ml5</p>
  </div>
  <div class="center">
    <div class="aufgabe-a1">
      <h1>Aufgabe A1</h1>
      <h2>Korrekt klassifizierte Bilder</h2>
      <div class="row">
        <div class="image-container table-a1">
          <img src="images-a1/goldfish.JPEG" alt="Goldfisch" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/goldfish_plot.png" alt="Goldfisch Klassifikation" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/sicherheitsnadel.jpg" alt="Sicherheitsnadel" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/sicherheitsnadel_plot.png" alt="Sicherheitsnadel Klassifikation" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/haus_meer.jpg" alt="Haus am Meer" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/haus_meer_plot.png" alt="Haus am Meer Klassifikation" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
      </div> 
      <h2>Falsch klassifizierte Bilder</h2>
      <div class="row">
        <div class="image-container table-a1">
          <img src="images-a1/nasa_earth.jpg" alt="Planet Erde" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/nasa_earth_plot.png" alt="Planet Erde Klassifikation" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/IMG_2093.JPG" alt="Eistüten" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/IMG_2093_plot.png" alt="Eistüten Klassifikation" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/kuh2.jpg" alt="Kühe vor einer Alm dahinter Berge" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
        <div class="image-container table-a1">
          <img src="images-a1/kuh2_plot.png" alt="Kühe vor einer Alm dahinter Berge Klassifikation" class="image thumbnail">
          <div class="overlay">
              <span class="icon">🔍</span>
          </div>
        </div>
      </div> 
    </div>
    <h1>Aufgabe A2 - Bild hochladen und klassifizieren</h1>
    <div id="drop_zone">
      <input type="file" id="upload" accept="image/*">
      <p>Hier klicken für Bild-Upload</p>
    </div>
    
    <div class="container">
      <div class="column left" id="column-l">
        <h2>Eingabebild</h2>
        <canvas id="canvas" width="500" height="500"></canvas>
      </div>
      <div class="column right" id="column-r">
        <h2>Klassifikation</h2>
        <p id="dataFromMl5_label"></p>
        <p id="dataFromMl5_conf"></p>
        <div id="plot">
        </div>
      </div>
    </div>
    <div class="discussion">
      <h1>Diskussion</h1>
      <p>Bei Bildern, die aus dem Trainingsdatensatz stammen, erfolgte in allen Stichproben eine korrekte Klassifikation mit einer sehr hohen Wahrscheinlichkeit. Werden eigene Bilder von gleichen Objekten hochgeladen  (Beispiel: Goldfisch, Marienkäfer oder Sicherheitsnadel), dann wird ebenfalls mit sehr hoher Wahrscheinlichkeit die korrekte Klassifikation vorgenommen.
      Sind verschiedene Objekte auf einem Bild zu erkennen, dann sinkt die Wahrscheinlichkeit einer korrekten Klassifikation erheblich und es kommt in einigen Fällen zu falschen Zuordnungen. Bei dem dritten Beispiel der korrekten Zuordnung beträgt die Wahrscheinlichkeit, dass es sich um eine Küste handelt nur knapp 19%. Es ist somit eine gewisse Unsicherheit damit verbunden. Bilder von / mit Personen sind besonders schwierig vom Modell zu klassifizieren - aus Datenschutzgründen soll kein Beispiel gezeigt werden.</p>
      <p>Bei den falsch klassifizierten Bildern kann es unterschiedliche Gründe dafür geben:
        <ul>
          <li>Trainingsdaten enthalten nur ein bestimmtes Set an Objekten / Klassifikationen -> Wird ein Bild mit unbekannten Dingen gezeigt (Beispiel: Planet Erde), wird nur bestmöglichste Klasse gefunden was dennoch falsch ist</li>
          <li>Die Trainingsdaten des Modells enthalten viele Bilder, auf denen nicht nur ein Objekt zu sehen ist, sondern mehrere und mit der Bezeichnung keine klare Zuordnung vorgenommen werden kann (Beispiel: n04116512_rubber_eraser.JPEG -> zusehen auch Bleistift, Notenbuch, Notenständer)</li>
          <li>Manche Gegenstände sind in "falscher" Größe / Relation dargestellt (Beispiel: n04127249_safety_pin.JPEG)</li>
        </ul>
      </p>
    </div>
    <div class="doku">
      <h1>Dokumentation</h1>
      <h2>Technisch</h2>
      <p>
        Die Web-Anwendung basiert auf einer HTML-Datei, die mit CSS gestylt und JavaScript interaktiv erweitert wurde. Zusätzlich wurden folgende Frameworks verwendet:
        <ul>
          <li>ml5js: Klassifikation der Eingabebilder auf Basis des vortrainierten neuronalen Netzes</li>
          <li>Plotly: Darstellung der Klassifikationsergebnisse in einem Diagramm</li>
        </ul>
      </p>
      
      <h2>Fachlich</h2>
      <p>
        Die Anwendung wurde iterativ entwickelt:
        <ul>
          <li>Entwicklung der HTML-Basis</li>
          <li>Implementierung der Bild-Klassifizierung</li>
          <li>Darstellung der Ergebnisse als Diagramm</li>
          <li>Generierung / Aussuchen von Beispiel-Bildern</li>
          <li>Optimierung der grafischen Darstellung</li>
        </ul>
        Verwendete Quellen / Tools:
        <ul>
          <li><a href="https://editor.p5js.org/" target="_blank">https://editor.p5js.org/</a></li>
          <li><a href="https://www.w3schools.com/css/default.aspx" target="_blank">https://www.w3schools.com</a></li>
          <li>Bei Problemen aller Art <a href="https://stackoverflow.com" target="_blank">https://stackoverflow.com</a></li>
        </ul>
      </p>
    </div>
    
  </div> 

  <!-- div für vergrößerte Bilder-->
  <div class="lightbox" id="lightbox">
    <img id="lightboxImage" src="" alt="Vergrößertes Bild">
  </div>

  <script src="sketch.js"></script>
</body>
</html>
